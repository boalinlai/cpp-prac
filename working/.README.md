using template to implement priority queue function

